PHP实现判断一个点是否在一个区域内的算法
-

>PS：我不产生雨，我只是大自然的搬运工

>上海语镜.Primo.Chu

>2013/10/18 11:39:55 


#### 算法如下


    $vertices_x = array(37.628134, 37.629867, 37.62324, 37.622424);    //假定一个区域-经度x范围
	$vertices_y = array(-77.458334,-77.449021,-77.445416,-77.457819); // 假定一个区域-经度y范围
	$points_polygon = count($vertices_x);  // number vertices = number of points in a self-closing polygon
	$longitude_x = $_GET["longitude"];  // x-coordinate of the point to test
	$latitude_y = $_GET["latitude"];    // y-coordinate of the point to test

	if (is_in_polygon($points_polygon, $vertices_x, $vertices_y, $longitude_x, $latitude_y)){
  		echo "在区域内!";
	}
	else echo "不在区域内！";


	function is_in_polygon($points_polygon, $vertices_x, $vertices_y, $longitude_x, $latitude_y)
	{
  		$i = $j = $c = $point = 0;
  		for ($i = 0, $j = $points_polygon ; $i < $points_polygon; $j = $i++) {
    $point = $i;
    if( $point == $points_polygon )
      $point = 0;
    if ( (($vertices_y[$point]  >  $latitude_y != ($vertices_y[$j] > $latitude_y)) &&
     ($longitude_x < ($vertices_x[$j] - $vertices_x[$point]) * ($latitude_y - $vertices_y[$point]) / ($vertices_y[$j] - $vertices_y[$point]) + $vertices_x[$point]) ) )
       $c = !$c;
  	}
 	 return $c;
	}

